# Java Lock

### 

### 锁分类

* 公平锁/非公平锁
  * 公平锁入锁前如果阻塞会自动排队到链表最后面；

    ```java
    public ReentrantLock(boolean fair) {
        sync = fair ? new FairSync() : new NonfairSync();
    }    
    ```

  * 非公平锁谁先抢到，谁先执行；优势为吞吐量较公平锁大，Synchronized为公平锁；
* 可重入锁
* 独享锁/共享锁（排它锁）
* 互斥锁/读写锁
* 乐观锁/悲观锁
* 分段锁
* 偏向锁/轻量级锁/重量级锁
* 自旋锁

锁消除 锁粗化

类锁 对象锁

无锁



